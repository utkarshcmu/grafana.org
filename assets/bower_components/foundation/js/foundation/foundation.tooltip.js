!function(e,t,n,o){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.4.7",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(e,t){return'<span data-selector="'+e+'" id="'+e+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'" role="tooltip">'+t+'<span class="nub"></span></span>'}},cache:{},init:function(e,t,n){Foundation.inherit(this,"random_str"),this.bindings(t,n)},should_show:function(t,n){var o=e.extend({},this.settings,this.data_options(t));return"all"===o.show_on?!0:this.small()&&"small"===o.show_on?!0:this.medium()&&"medium"===o.show_on?!0:this.large()&&"large"===o.show_on?!0:!1},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(t){var n=this,o=n.S;n.create(this.S(t)),e(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(t){var i=o(this),r=e.extend({},n.settings,n.data_options(i)),a=!1;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&o(t.target).is("a"))return!1;if(/mouse/i.test(t.type)&&n.ie_touch(t))return!1;if(i.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&t.preventDefault(),n.hide(i);else{if(r.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type))return;!r.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&(t.preventDefault(),o(r.tooltip_class+".open").hide(),a=!0),/enter|over/i.test(t.type)?this.timer=setTimeout(function(){n.showTip(i)}.bind(this),n.settings.hover_delay):"mouseout"===t.type||"mouseleave"===t.type?(clearTimeout(this.timer),n.hide(i)):n.showTip(i)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(t){return/mouse/i.test(t.type)&&n.ie_touch(t)?!1:void(("touch"!=e(this).data("tooltip-open-event-type")||"mouseleave"!=t.type)&&("mouse"==e(this).data("tooltip-open-event-type")&&/MSPointerDown|touchstart/i.test(t.type)?n.convert_to_touch(e(this)):n.hide(e(this))))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(e){n.hide(o(this))})},ie_touch:function(e){return!1},showTip:function(e){var t=this.getTip(e);return this.should_show(e,t)?this.show(e):void 0},getTip:function(t){var n=this.selector(t),o=e.extend({},this.settings,this.data_options(t)),i=null;return n&&(i=this.S('span[data-selector="'+n+'"]'+o.tooltip_class)),"object"==typeof i?i:!1},selector:function(e){var t=e.attr("id"),n=e.attr(this.attr_name())||e.attr("data-selector");return(t&&t.length<1||!t)&&"string"!=typeof n&&(n=this.random_str(6),e.attr("data-selector",n).attr("aria-describedby",n)),t&&t.length>0?t:n},create:function(n){var o=this,i=e.extend({},this.settings,this.data_options(n)),r=this.settings.tip_template;"string"==typeof i.tip_template&&t.hasOwnProperty(i.tip_template)&&(r=t[i.tip_template]);var a=e(r(this.selector(n),e("<div></div>").html(n.attr("title")).html())),c=this.inheritable_classes(n);a.addClass(c).appendTo(i.append_to),Modernizr.touch&&(a.append('<span class="tap-to-close">'+i.touch_close_text+"</span>"),a.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(e){o.hide(n)})),n.removeAttr("title").attr("title","")},reposition:function(t,n,o){var i,r,a,c,s;if(n.css("visibility","hidden").show(),i=t.data("width"),r=n.children(".nub"),a=r.outerHeight(),c=r.outerHeight(),this.small()?n.css({width:"100%"}):n.css({width:i?i:"auto"}),s=function(e,t,n,o,i,r){return e.css({top:t?t:"auto",bottom:o?o:"auto",left:i?i:"auto",right:n?n:"auto"}).end()},s(n,t.offset().top+t.outerHeight()+10,"auto","auto",t.offset().left),this.small())s(n,t.offset().top+t.outerHeight()+10,"auto","auto",12.5,e(this.scope).width()),n.addClass("tip-override"),s(r,-a,"auto","auto",t.offset().left);else{var u=t.offset().left;Foundation.rtl&&(r.addClass("rtl"),u=t.offset().left+t.outerWidth()-n.outerWidth()),s(n,t.offset().top+t.outerHeight()+10,"auto","auto",u),n.removeClass("tip-override"),o&&o.indexOf("tip-top")>-1?(Foundation.rtl&&r.addClass("rtl"),s(n,t.offset().top-n.outerHeight(),"auto","auto",u).removeClass("tip-override")):o&&o.indexOf("tip-left")>-1?(s(n,t.offset().top+t.outerHeight()/2-n.outerHeight()/2,"auto","auto",t.offset().left-n.outerWidth()-a).removeClass("tip-override"),r.removeClass("rtl")):o&&o.indexOf("tip-right")>-1&&(s(n,t.offset().top+t.outerHeight()/2-n.outerHeight()/2,"auto","auto",t.offset().left+t.outerWidth()+a).removeClass("tip-override"),r.removeClass("rtl"))}n.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(t){var n=e.extend({},this.settings,this.data_options(t)),o=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(n.additional_inheritable_classes),i=t.attr("class"),r=i?e.map(i.split(" "),function(t,n){return-1!==e.inArray(t,o)?t:void 0}).join(" "):"";return e.trim(r)},convert_to_touch:function(t){var n=this,o=n.getTip(t),i=e.extend({},n.settings,n.data_options(t));0===o.find(".tap-to-close").length&&(o.append('<span class="tap-to-close">'+i.touch_close_text+"</span>"),o.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(e){n.hide(t)})),t.data("tooltip-open-event-type","touch")},show:function(e){var t=this.getTip(e);"touch"==e.data("tooltip-open-event-type")&&this.convert_to_touch(e),this.reposition(e,t,e.attr("class")),e.addClass("open"),t.fadeIn(150)},hide:function(e){var t=this.getTip(e);t.fadeOut(150,function(){t.find(".tap-to-close").remove(),t.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),e.removeClass("open")})},off:function(){var t=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(n){e("["+t.attr_name()+"]").eq(n).attr("title",e(this).text())}).remove()},reflow:function(){}}}(jQuery,window,window.document);